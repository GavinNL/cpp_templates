cmake_minimum_required(VERSION 3.16)

# Export the compile commands as a json file
# useful for testing
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

# Make sure the binary directory is added to the
# module path so that the FindXXX.cmake files which were
# generated by conan can be found
list(APPEND CMAKE_MODULE_PATH ${CMAKE_BINARY_DIR})


################################################################################
# The Project Name will the the name of the folder. Change it if you
# dont like it.
################################################################################
project( simple-websocket-server )
################################################################################



################################################################################
# Find all the packages we need
################################################################################
find_package(simple-websocket-server REQUIRED)
find_package(Threads  REQUIRED)
################################################################################


 
################################################################################
# Build the executable
#
################################################################################
add_executable( ${PROJECT_NAME} server.cpp )

target_include_directories( ${PROJECT_NAME}
                            PUBLIC
                               "$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>"
 )

target_compile_features( ${PROJECT_NAME}
                          PUBLIC
                              cxx_std_17)

target_link_libraries( ${PROJECT_NAME}  PRIVATE simple-websocket-server::simple-websocket-server Threads::Threads)

################################################################################
